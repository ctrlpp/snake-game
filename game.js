function a0_0x5e8e(_0x301065,_0x5429bc){const _0x3dfd8e=a0_0x3dfd();return a0_0x5e8e=function(_0x5e8e80,_0x5565b1){_0x5e8e80=_0x5e8e80-0x173;let _0x20b08f=_0x3dfd8e[_0x5e8e80];return _0x20b08f;},a0_0x5e8e(_0x301065,_0x5429bc);}const a0_0x8785bc=a0_0x5e8e;(function(_0x2c4d48,_0x5cf221){const _0x213c34=a0_0x5e8e,_0x4e0bd4=_0x2c4d48();while(!![]){try{const _0x2118f9=-parseInt(_0x213c34(0x265))/0x1*(-parseInt(_0x213c34(0x1ae))/0x2)+-parseInt(_0x213c34(0x1ff))/0x3+parseInt(_0x213c34(0x1de))/0x4+-parseInt(_0x213c34(0x205))/0x5*(parseInt(_0x213c34(0x202))/0x6)+-parseInt(_0x213c34(0x20b))/0x7+-parseInt(_0x213c34(0x269))/0x8+parseInt(_0x213c34(0x17b))/0x9*(parseInt(_0x213c34(0x208))/0xa);if(_0x2118f9===_0x5cf221)break;else _0x4e0bd4['push'](_0x4e0bd4['shift']());}catch(_0xf5466c){_0x4e0bd4['push'](_0x4e0bd4['shift']());}}}(a0_0x3dfd,0x7f1cd));class SnakeGame{constructor(){const _0x4ebfd4=a0_0x5e8e;this[_0x4ebfd4(0x216)]=document['getElementById'](_0x4ebfd4(0x18d));if(!this[_0x4ebfd4(0x216)]){console[_0x4ebfd4(0x176)](_0x4ebfd4(0x289));return;}this[_0x4ebfd4(0x282)]=this[_0x4ebfd4(0x216)][_0x4ebfd4(0x28e)]('2d');if(!this[_0x4ebfd4(0x282)]){console[_0x4ebfd4(0x176)](_0x4ebfd4(0x17a));return;}this[_0x4ebfd4(0x183)]=document[_0x4ebfd4(0x256)]('scoreValue')||{'textContent':''},this[_0x4ebfd4(0x251)]=document[_0x4ebfd4(0x256)](_0x4ebfd4(0x255))||document[_0x4ebfd4(0x1b4)](_0x4ebfd4(0x174)),this[_0x4ebfd4(0x207)]=document[_0x4ebfd4(0x256)](_0x4ebfd4(0x27b))||document['createElement'](_0x4ebfd4(0x2a5)),this[_0x4ebfd4(0x1a7)]=0x14,this[_0x4ebfd4(0x271)]=[],this[_0x4ebfd4(0x1c3)]=null,this['direction']=_0x4ebfd4(0x25a),this['nextDirection']='right',this[_0x4ebfd4(0x237)]=0x0,this[_0x4ebfd4(0x18e)]=null,this[_0x4ebfd4(0x212)]=![],this['particles']=[],this[_0x4ebfd4(0x215)]=![],this[_0x4ebfd4(0x2a6)]=0x0,this[_0x4ebfd4(0x244)]=0x64,this[_0x4ebfd4(0x23e)]=![],this[_0x4ebfd4(0x26b)]=null,this[_0x4ebfd4(0x29d)]={},this[_0x4ebfd4(0x229)]=0x1,this[_0x4ebfd4(0x213)]=0x0,this[_0x4ebfd4(0x234)]=0x64,this['skills']=[],this['availableSkills']=[],this[_0x4ebfd4(0x297)]=0x0,this[_0x4ebfd4(0x24b)]=![],this['difficulties']={'easy':{'speed':0x96,'acceleration':0x0},'medium':{'speed':0x64,'acceleration':0.5},'hard':{'speed':0x46,'acceleration':0x1}},this[_0x4ebfd4(0x274)]=_0x4ebfd4(0x1b5),this['setupCanvas'](),this['setupEventListeners'](),this[_0x4ebfd4(0x22e)](),this[_0x4ebfd4(0x1d4)]();}['handleSkillSelectionKeys'](_0xd71393){const _0x1b27a9=a0_0x5e8e;if(!this[_0x1b27a9(0x24b)])return;const _0x3aee41=_0xd71393[_0x1b27a9(0x29c)]['toLowerCase']();switch(_0x3aee41){case _0x1b27a9(0x27a):this['selectedSkillIndex']=(this['selectedSkillIndex']-0x1+this[_0x1b27a9(0x175)][_0x1b27a9(0x1d0)])%this[_0x1b27a9(0x175)][_0x1b27a9(0x1d0)],this[_0x1b27a9(0x252)](),this['drawLevelUpMenu']();break;case'arrowdown':this[_0x1b27a9(0x1c8)]=(this[_0x1b27a9(0x1c8)]+0x1)%this[_0x1b27a9(0x175)][_0x1b27a9(0x1d0)],this[_0x1b27a9(0x252)](),this[_0x1b27a9(0x246)]();break;case'\x20':this[_0x1b27a9(0x1fe)](this[_0x1b27a9(0x175)][this['selectedSkillIndex']]['id']),this[_0x1b27a9(0x252)]();break;}}[a0_0x8785bc(0x25e)](){const _0x2040de=a0_0x8785bc,_0x401646=this['canvas']['parentElement'],_0x39c70c=Math[_0x2040de(0x1ca)](_0x401646['clientWidth'],_0x401646[_0x2040de(0x17c)]);this[_0x2040de(0x216)][_0x2040de(0x245)]=_0x39c70c,this['canvas'][_0x2040de(0x1e0)]=_0x39c70c,this['cellSize']=Math[_0x2040de(0x191)](_0x39c70c/this[_0x2040de(0x1a7)]);const _0x1318ff=this['cellSize']*this[_0x2040de(0x1a7)];this['canvas'][_0x2040de(0x245)]=_0x1318ff,this[_0x2040de(0x216)][_0x2040de(0x1e0)]=_0x1318ff,this[_0x2040de(0x216)]['style'][_0x2040de(0x245)]=_0x39c70c+'px',this[_0x2040de(0x216)][_0x2040de(0x285)][_0x2040de(0x1e0)]=_0x39c70c+'px';}[a0_0x8785bc(0x243)](){const _0xa4e2ea=a0_0x8785bc;document[_0xa4e2ea(0x18b)](_0xa4e2ea(0x189),this[_0xa4e2ea(0x1ba)][_0xa4e2ea(0x20d)](this)),document['addEventListener']('keydown',this['handleSkillSelectionKeys']['bind'](this)),document['getElementById'](_0xa4e2ea(0x1b6))[_0xa4e2ea(0x18b)]('click',()=>this[_0xa4e2ea(0x197)](_0xa4e2ea(0x1b5))),document['getElementById'](_0xa4e2ea(0x1b1))[_0xa4e2ea(0x18b)](_0xa4e2ea(0x299),()=>this[_0xa4e2ea(0x197)]('medium')),document[_0xa4e2ea(0x256)]('hardBtn')[_0xa4e2ea(0x18b)](_0xa4e2ea(0x299),()=>this[_0xa4e2ea(0x197)](_0xa4e2ea(0x1fd)));let _0x21b81d;window['addEventListener'](_0xa4e2ea(0x1ce),()=>{clearTimeout(_0x21b81d),_0x21b81d=setTimeout(()=>{const _0x5a709f=a0_0x5e8e;this['setupCanvas'](),this[_0x5a709f(0x252)]();},0x64);});}[a0_0x8785bc(0x22e)](){const _0x51e504=a0_0x8785bc;this['aiButton']&&this[_0x51e504(0x207)][_0x51e504(0x18b)](_0x51e504(0x299),()=>{const _0x74496b=_0x51e504;this[_0x74496b(0x1f7)]();});}[a0_0x8785bc(0x1d4)](){const _0x2354b9=a0_0x8785bc;this['level']=0x1,this['experience']=0x0,this[_0x2354b9(0x234)]=0x64,this[_0x2354b9(0x22a)]=[],this[_0x2354b9(0x175)]=[],this[_0x2354b9(0x297)]=0x0,this[_0x2354b9(0x24b)]=![],this[_0x2354b9(0x1c8)]=0x0,this[_0x2354b9(0x178)]=0x1,this[_0x2354b9(0x210)]=0x1,this[_0x2354b9(0x1af)]=0x0,this[_0x2354b9(0x1c4)]=0x0,this['snake']=[{'x':0xa,'y':0xa},{'x':0x9,'y':0xa},{'x':0x8,'y':0xa}],this[_0x2354b9(0x1ec)]=_0x2354b9(0x25a),this[_0x2354b9(0x25d)]='right',this[_0x2354b9(0x237)]=0x0,this[_0x2354b9(0x183)]['textContent']=this['score'],this[_0x2354b9(0x225)](),this[_0x2354b9(0x1d6)](),this[_0x2354b9(0x251)][_0x2354b9(0x1b9)]=_0x2354b9(0x1e2),this[_0x2354b9(0x251)][_0x2354b9(0x1e8)][_0x2354b9(0x290)]('hidden'),this[_0x2354b9(0x200)](),this[_0x2354b9(0x192)]();}[a0_0x8785bc(0x197)](_0x2823b1){const _0x26f614=a0_0x8785bc;this[_0x26f614(0x274)]=_0x2823b1,document['querySelectorAll']('.difficulty\x20button')[_0x26f614(0x240)](_0x1e227c=>{const _0x1ad641=_0x26f614;_0x1e227c['classList'][_0x1ad641(0x267)](_0x1ad641(0x1ee));}),document[_0x26f614(0x256)](_0x2823b1+'Btn')['classList'][_0x26f614(0x290)](_0x26f614(0x1ee)),this['gameLoop']&&(clearInterval(this['gameLoop']),this[_0x26f614(0x192)]());}[a0_0x8785bc(0x192)](){const _0x118e09=a0_0x8785bc;let _0x1246c0=this['difficulties'][this[_0x118e09(0x274)]][_0x118e09(0x278)];if(this[_0x118e09(0x29d)][_0x118e09(0x270)])_0x1246c0/=this[_0x118e09(0x29d)][_0x118e09(0x270)][_0x118e09(0x226)];else this['activeEffects'][_0x118e09(0x220)]&&(_0x1246c0/=this[_0x118e09(0x29d)][_0x118e09(0x220)][_0x118e09(0x226)]);const _0x34decc=Math['max'](0x32,_0x1246c0);this['gameLoop']=setInterval(()=>this['update'](),_0x34decc);}[a0_0x8785bc(0x1ba)](_0x3a4126){const _0x2af3e4=a0_0x8785bc,_0x426235=_0x3a4126[_0x2af3e4(0x29c)][_0x2af3e4(0x1a0)]();if(_0x426235==='i'){this[_0x2af3e4(0x1f7)]();return;}if(_0x426235==='\x20'){this[_0x2af3e4(0x251)][_0x2af3e4(0x1e8)][_0x2af3e4(0x17d)]('hidden')?this[_0x2af3e4(0x212)]=!this[_0x2af3e4(0x212)]:this[_0x2af3e4(0x1d4)]();return;}if(!this['isAIMode']){const _0x4adeb8={'arrowup':'up','arrowdown':_0x2af3e4(0x1a6),'arrowleft':'left','arrowright':'right','w':'up','s':_0x2af3e4(0x1a6),'a':_0x2af3e4(0x1d7),'d':_0x2af3e4(0x25a)};if(_0x4adeb8[_0x426235]){let _0x11605b=_0x4adeb8[_0x426235];if(this[_0x2af3e4(0x29d)][_0x2af3e4(0x182)]){const _0x1d72eb={'up':_0x2af3e4(0x1a6),'down':'up','left':_0x2af3e4(0x25a),'right':_0x2af3e4(0x1d7)};_0x11605b=_0x1d72eb[_0x11605b];}const _0x1c1fa5={'up':_0x2af3e4(0x1a6),'down':'up','left':_0x2af3e4(0x25a),'right':_0x2af3e4(0x1d7)};if(this['direction']!==_0x1c1fa5[_0x11605b]){this[_0x2af3e4(0x25d)]=_0x11605b;const _0x5e931c=document['getElementById']('gameCanvas');if(_0x5e931c){const _0x10b021=_0x5e931c[_0x2af3e4(0x285)]['transform'];let _0x4a9a45=0x0;const _0x52116f=setInterval(()=>{const _0x532f8f=_0x2af3e4,_0x55a0ba=(Math[_0x532f8f(0x1c2)]()-0.5)*0x4,_0x1ec424=(Math[_0x532f8f(0x1c2)]()-0.5)*0x4;_0x5e931c[_0x532f8f(0x285)][_0x532f8f(0x20c)]=_0x532f8f(0x2a4)+_0x55a0ba+'px,\x20'+_0x1ec424+'px)',_0x4a9a45++,_0x4a9a45>=0x8&&(clearInterval(_0x52116f),_0x5e931c[_0x532f8f(0x285)][_0x532f8f(0x20c)]=_0x10b021);},0x14);}}}}}[a0_0x8785bc(0x1f7)](){const _0x2a7581=a0_0x8785bc;this[_0x2a7581(0x215)]=!this[_0x2a7581(0x215)],this['aiButton'][_0x2a7581(0x1fb)]='AI\x20Mode:\x20'+(this[_0x2a7581(0x215)]?'ON':_0x2a7581(0x1e6)),this['aiButton']['classList'][_0x2a7581(0x1bf)](_0x2a7581(0x1ee)),this['lastAIMoveTime']=0x0;}[a0_0x8785bc(0x1b2)](){const _0x6cf203=a0_0x8785bc,_0x2a0fb1=this[_0x6cf203(0x271)][0x0];if(!this[_0x6cf203(0x1c3)])return this['direction'];if(_0x2a0fb1['x']<this[_0x6cf203(0x1c3)]['x'])return _0x6cf203(0x25a);else{if(_0x2a0fb1['x']>this['food']['x'])return _0x6cf203(0x1d7);else{if(_0x2a0fb1['y']<this['food']['y'])return _0x6cf203(0x1a6);else{if(_0x2a0fb1['y']>this[_0x6cf203(0x1c3)]['y'])return'up';}}}return this['direction'];}[a0_0x8785bc(0x200)](){const _0x24d107=a0_0x8785bc,_0x2f74ff=[_0x24d107(0x201),_0x24d107(0x20e),'#2196F3',_0x24d107(0x21c),_0x24d107(0x18c),_0x24d107(0x1eb)],_0x1494f9=Math[_0x24d107(0x191)](Math[_0x24d107(0x1c2)]()*_0x2f74ff[_0x24d107(0x1d0)]);this['foodColor']=_0x2f74ff[_0x1494f9];while(!![]){this[_0x24d107(0x1c3)]={'x':Math[_0x24d107(0x191)](Math[_0x24d107(0x1c2)]()*this[_0x24d107(0x1a7)]),'y':Math[_0x24d107(0x191)](Math[_0x24d107(0x1c2)]()*this['gridSize'])};if(!this['snake']['some'](_0x4f68d1=>_0x4f68d1['x']===this[_0x24d107(0x1c3)]['x']&&_0x4f68d1['y']===this['food']['y']))break;}}[a0_0x8785bc(0x235)](){const _0x39fb07=a0_0x8785bc;if(this[_0x39fb07(0x212)])return;if(this['isAIMode'])try{this[_0x39fb07(0x25d)]=this[_0x39fb07(0x1b2)]();}catch(_0x3bc7fd){console[_0x39fb07(0x176)](_0x39fb07(0x232),_0x3bc7fd),this[_0x39fb07(0x215)]=![],this[_0x39fb07(0x207)]['textContent']=_0x39fb07(0x173),this[_0x39fb07(0x207)][_0x39fb07(0x1e8)][_0x39fb07(0x267)](_0x39fb07(0x1ee));}this[_0x39fb07(0x1ec)]=this[_0x39fb07(0x25d)];const _0x69d267={...this[_0x39fb07(0x271)][0x0]};switch(this['direction']){case'up':_0x69d267['y']--;break;case'down':_0x69d267['y']++;break;case'left':_0x69d267['x']--;break;case'right':_0x69d267['x']++;break;}if(_0x69d267['x']<0x0||_0x69d267['x']>=this['gridSize']||_0x69d267['y']<0x0||_0x69d267['y']>=this[_0x39fb07(0x1a7)]){if(this['activeEffects'][_0x39fb07(0x250)]){delete this[_0x39fb07(0x29d)][_0x39fb07(0x250)],this[_0x39fb07(0x260)](_0x39fb07(0x180),_0x39fb07(0x1cc)),this['snake'][_0x39fb07(0x218)]();return;}this['gameOver']();return;}if(this['snake'][_0x39fb07(0x259)](_0x13bcac=>_0x13bcac['x']===_0x69d267['x']&&_0x13bcac['y']===_0x69d267['y'])){if(this['activeEffects'][_0x39fb07(0x250)]){delete this['activeEffects'][_0x39fb07(0x250)],this[_0x39fb07(0x260)](_0x39fb07(0x180),_0x39fb07(0x1cc)),this[_0x39fb07(0x271)][_0x39fb07(0x218)]();return;}this[_0x39fb07(0x255)]();return;}this['snake'][_0x39fb07(0x199)](_0x69d267);if(_0x69d267['x']===this['food']['x']&&_0x69d267['y']===this['food']['y']){const _0x52b962=this[_0x39fb07(0x29d)]['doubleScore']?this[_0x39fb07(0x29d)][_0x39fb07(0x1bc)][_0x39fb07(0x226)]:0x1,_0x35dd71=0xa*_0x52b962;this[_0x39fb07(0x237)]+=_0x35dd71,this[_0x39fb07(0x183)][_0x39fb07(0x1fb)]=this[_0x39fb07(0x237)],this['addExperience'](_0x35dd71),this[_0x39fb07(0x225)]();_0x52b962>0x1&&this[_0x39fb07(0x260)]('+'+_0x35dd71+_0x39fb07(0x28b)+_0x52b962+')','blue');this['generateFood'](),this[_0x39fb07(0x23e)]=!![],this[_0x39fb07(0x20a)](this[_0x39fb07(0x26b)]);this[_0x39fb07(0x1af)]>0x0&&Math[_0x39fb07(0x1c2)]()<this['shieldChance']&&(this[_0x39fb07(0x29d)][_0x39fb07(0x250)]={'type':_0x39fb07(0x250),'active':!![],'duration':0x2710*(this[_0x39fb07(0x210)]||0x1),'maxDuration':0x2710*(this[_0x39fb07(0x210)]||0x1),'startTime':Date[_0x39fb07(0x20f)]()},this[_0x39fb07(0x260)]('护盾触发!',_0x39fb07(0x1cc),this[_0x39fb07(0x29d)][_0x39fb07(0x250)]['duration']));const _0x46e49f=this[_0x39fb07(0x216)][_0x39fb07(0x1a5)];let _0x46490b=_0x39fb07(0x24c);const _0x39fd50={'neon-pulse-red':0x190,'neon-pulse-green':0x320,'neon-pulse-blue':0x258,'neon-pulse-effect':0x258};switch(this[_0x39fb07(0x26b)]){case'#FF5252':_0x46490b=_0x39fb07(0x29e);break;case _0x39fb07(0x20e):_0x46490b=_0x39fb07(0x25f);break;case _0x39fb07(0x29f):_0x46490b=_0x39fb07(0x21a);break;default:_0x46490b=_0x39fb07(0x24c);}_0x46e49f['classList'][_0x39fb07(0x290)](_0x46490b),setTimeout(()=>{const _0x52613d=_0x39fb07;_0x46e49f[_0x52613d(0x1e8)][_0x52613d(0x267)](_0x46490b);},_0x39fd50[_0x46490b]);if(this['difficulties'][this[_0x39fb07(0x274)]][_0x39fb07(0x257)]>0x0){clearInterval(this[_0x39fb07(0x18e)]);const _0x5bd91d=Math[_0x39fb07(0x231)](0x32,this[_0x39fb07(0x19f)][this['currentDifficulty']][_0x39fb07(0x278)]-this[_0x39fb07(0x237)]*this['difficulties'][this[_0x39fb07(0x274)]][_0x39fb07(0x257)]);this[_0x39fb07(0x18e)]=setInterval(()=>this['update'](),_0x5bd91d);}}else this[_0x39fb07(0x271)][_0x39fb07(0x218)](),this[_0x39fb07(0x23e)]=![];if(this[_0x39fb07(0x22a)]['some'](_0x129bb8=>_0x129bb8['id']===_0x39fb07(0x25b))&&this[_0x39fb07(0x1c4)]>0x0){const _0x3e3733=this[_0x39fb07(0x271)][0x0],_0x5efddb=Math[_0x39fb07(0x1b0)](this[_0x39fb07(0x1c3)]['x']-_0x3e3733['x'],this[_0x39fb07(0x1c3)]['y']-_0x3e3733['y']);if(_0x5efddb<this[_0x39fb07(0x1c4)]/this[_0x39fb07(0x22c)]/0x2){this[_0x39fb07(0x271)]['unshift'](_0x3e3733);const _0x2d876f=this[_0x39fb07(0x29d)]['doubleScore']?this[_0x39fb07(0x29d)][_0x39fb07(0x1bc)]['multiplier']:0x1,_0x2abef6=0xa*_0x2d876f;this[_0x39fb07(0x237)]+=_0x2abef6,this['scoreElement'][_0x39fb07(0x1fb)]=this[_0x39fb07(0x237)],this[_0x39fb07(0x1d9)](_0x2abef6),this[_0x39fb07(0x225)]();_0x2d876f>0x1&&this['showEffectMessage']('+'+_0x2abef6+_0x39fb07(0x28b)+_0x2d876f+')',_0x39fb07(0x238));this['generateFood'](),this[_0x39fb07(0x23e)]=!![],this[_0x39fb07(0x20a)](this[_0x39fb07(0x26b)]);this[_0x39fb07(0x1af)]>0x0&&Math[_0x39fb07(0x1c2)]()<this[_0x39fb07(0x1af)]&&(this['activeEffects'][_0x39fb07(0x250)]={'type':'shield','active':!![],'duration':0x2710*(this[_0x39fb07(0x210)]||0x1),'startTime':Date[_0x39fb07(0x20f)]()},this[_0x39fb07(0x260)]('护盾触发!',_0x39fb07(0x1cc),this['activeEffects'][_0x39fb07(0x250)]['duration']));const _0xdefab3=this[_0x39fb07(0x216)][_0x39fb07(0x1a5)];let _0xcbc297=_0x39fb07(0x24c);const _0x1632d5={'neon-pulse-red':0x190,'neon-pulse-green':0x320,'neon-pulse-blue':0x258,'neon-pulse-effect':0x258};switch(this[_0x39fb07(0x26b)]){case _0x39fb07(0x201):_0xcbc297='neon-pulse-red';break;case _0x39fb07(0x20e):_0xcbc297=_0x39fb07(0x25f);break;case _0x39fb07(0x29f):_0xcbc297=_0x39fb07(0x21a);break;default:_0xcbc297='neon-pulse-effect';}_0xdefab3[_0x39fb07(0x1e8)]['add'](_0xcbc297),setTimeout(()=>{const _0x10086b=_0x39fb07;_0xdefab3[_0x10086b(0x1e8)][_0x10086b(0x267)](_0xcbc297);},_0x1632d5[_0xcbc297]);if(this[_0x39fb07(0x19f)][this[_0x39fb07(0x274)]]['acceleration']>0x0){clearInterval(this[_0x39fb07(0x18e)]);const _0x229e08=Math['max'](0x32,this[_0x39fb07(0x19f)][this[_0x39fb07(0x274)]]['speed']-this['score']*this[_0x39fb07(0x19f)][this['currentDifficulty']][_0x39fb07(0x257)]);this['gameLoop']=setInterval(()=>this[_0x39fb07(0x235)](),_0x229e08);}}}this[_0x39fb07(0x26d)](),this[_0x39fb07(0x1d6)](),this[_0x39fb07(0x252)](),this[_0x39fb07(0x24b)]&&this['drawLevelUpMenu']();}[a0_0x8785bc(0x246)](){const _0x14c301=a0_0x8785bc,_0x244dba=this[_0x14c301(0x216)]['width']*0.7,_0x3715d6=this['canvas'][_0x14c301(0x1e0)]*0.7,_0x4d7f04=(this[_0x14c301(0x216)][_0x14c301(0x245)]-_0x244dba)/0x2,_0x5c8ff8=(this[_0x14c301(0x216)][_0x14c301(0x1e0)]-_0x3715d6)/0x2;this['ctx'][_0x14c301(0x293)]=_0x14c301(0x23b),this[_0x14c301(0x282)][_0x14c301(0x1f1)](_0x4d7f04,_0x5c8ff8,_0x244dba,_0x3715d6),this[_0x14c301(0x282)][_0x14c301(0x261)]='#00ff9d',this[_0x14c301(0x282)]['lineWidth']=0x3,this[_0x14c301(0x282)]['strokeRect'](_0x4d7f04,_0x5c8ff8,_0x244dba,_0x3715d6),this[_0x14c301(0x282)]['fillStyle']='white',this['ctx']['font']=_0x14c301(0x217),this[_0x14c301(0x282)][_0x14c301(0x1a2)]=_0x14c301(0x1df),this['ctx'][_0x14c301(0x18f)]('升级!\x20选择一个技能\x20(Lv'+this[_0x14c301(0x229)]+')',this[_0x14c301(0x216)][_0x14c301(0x245)]/0x2,_0x5c8ff8+0x28);const _0x54a032=(_0x3715d6-0x64)/0x3;this[_0x14c301(0x175)][_0x14c301(0x240)]((_0x271a88,_0x31df01)=>{const _0x490274=_0x14c301,_0x228753=_0x5c8ff8+0x50+_0x31df01*_0x54a032,_0x10e312=_0x31df01===this[_0x490274(0x1c8)];this[_0x490274(0x282)]['fillStyle']=_0x10e312?_0x490274(0x28f):_0x490274(0x214),this[_0x490274(0x282)]['fillRect'](_0x4d7f04+0x14,_0x228753,_0x244dba-0x28,_0x54a032-0x14),this['ctx'][_0x490274(0x293)]=_0x490274(0x22f),this[_0x490274(0x282)][_0x490274(0x241)]=_0x490274(0x217),this['ctx'][_0x490274(0x1a2)]='left',this[_0x490274(0x282)][_0x490274(0x18f)](_0x271a88[_0x490274(0x268)]+'\x20'+_0x271a88[_0x490274(0x23d)],_0x4d7f04+0x28,_0x228753+0xf),this['ctx']['font']='12px\x20Arial',this[_0x490274(0x282)]['fillText'](_0x271a88[_0x490274(0x1f9)],_0x4d7f04+0x28,_0x228753+0x1e);}),this['ctx'][_0x14c301(0x241)]=_0x14c301(0x283),this[_0x14c301(0x282)]['textAlign']=_0x14c301(0x1df),this[_0x14c301(0x282)][_0x14c301(0x18f)](_0x14c301(0x1c0),this[_0x14c301(0x216)][_0x14c301(0x245)]/0x2,_0x5c8ff8+_0x3715d6-0x14);}[a0_0x8785bc(0x20a)](_0x38154e){const _0x544506=a0_0x8785bc,_0x5f1500=document['querySelectorAll'](_0x544506(0x294));if(_0x5f1500[_0x544506(0x1d0)]>0x0){let _0x3e0576;switch(_0x38154e){case'#FF5252':_0x3e0576=_0x544506(0x201);break;case _0x544506(0x20e):_0x3e0576=_0x544506(0x20e);break;case _0x544506(0x29f):_0x3e0576=_0x544506(0x29f);break;case _0x544506(0x21c):_0x3e0576=_0x544506(0x21c);break;case'#9C27B0':_0x3e0576=_0x544506(0x18c);break;default:_0x3e0576=_0x544506(0x1f2);}_0x5f1500[_0x544506(0x240)](_0x5e6637=>{const _0x32eae0=_0x544506;_0x5e6637[_0x32eae0(0x285)][_0x32eae0(0x1a8)](_0x32eae0(0x1a1),_0x3e0576);});}const _0x4efb6b={'speed':[],'control':[],'score':[],'shield':[]};Object[_0x544506(0x1ad)](this[_0x544506(0x29d)])[_0x544506(0x240)](_0xb8b312=>{const _0x82b0a3=_0x544506,_0x48f344=this[_0x82b0a3(0x29d)][_0xb8b312];if(_0x4efb6b[_0x48f344[_0x82b0a3(0x262)]])_0x4efb6b[_0x48f344[_0x82b0a3(0x262)]][_0x82b0a3(0x1e3)](_0xb8b312);}),Object[_0x544506(0x263)](_0x4efb6b)[_0x544506(0x1a9)]()[_0x544506(0x240)](_0x17fdce=>delete this['activeEffects'][_0x17fdce]);switch(_0x38154e){case _0x544506(0x201):this[_0x544506(0x29d)][_0x544506(0x182)]={'maxDuration':0x1f40,'type':_0x544506(0x1e4),'active':!![],'duration':0x1388*(this[_0x544506(0x210)]||0x1),'startTime':Date[_0x544506(0x20f)]()},this[_0x544506(0x260)]('方向反转!',_0x544506(0x291),this['activeEffects']['reverseControls'][_0x544506(0x221)]);break;case _0x544506(0x20e):this['activeEffects']['speedBoost']={'maxDuration':0x1b58,'type':_0x544506(0x278),'active':!![],'duration':0xbb8*(this[_0x544506(0x210)]||0x1),'startTime':Date[_0x544506(0x20f)](),'multiplier':1.5},this[_0x544506(0x260)](_0x544506(0x1b3),'green',this['activeEffects']['speedBoost'][_0x544506(0x221)]);break;case _0x544506(0x29f):this['activeEffects']['doubleScore']={'maxDuration':0x3a98,'type':'score','active':!![],'duration':0x1f40*(this[_0x544506(0x210)]||0x1),'startTime':Date[_0x544506(0x20f)](),'multiplier':0x2},this[_0x544506(0x260)](_0x544506(0x27d),'blue',this[_0x544506(0x29d)]['doubleScore'][_0x544506(0x221)]);break;case _0x544506(0x21c):this[_0x544506(0x29d)]['slowDown']={'maxDuration':0x2710,'type':'speed','active':!![],'duration':0xfa0*(this['effectDurationMultiplier']||0x1),'startTime':Date[_0x544506(0x20f)](),'multiplier':0.7},this['showEffectMessage'](_0x544506(0x23a),_0x544506(0x1d2),this[_0x544506(0x29d)][_0x544506(0x220)][_0x544506(0x221)]);break;case _0x544506(0x18c):this['activeEffects']['shield']={'type':_0x544506(0x250),'active':!![],'duration':0x2710*(this[_0x544506(0x210)]||0x1),'startTime':Date[_0x544506(0x20f)]()},this[_0x544506(0x260)](_0x544506(0x24f),_0x544506(0x1cc),this[_0x544506(0x29d)][_0x544506(0x250)][_0x544506(0x221)]);break;}}['updateEffects'](){const _0x2e137e=a0_0x8785bc,_0x43ac7d=Date['now']();Object['keys'](this[_0x2e137e(0x29d)])[_0x2e137e(0x240)](_0x29e711=>{const _0x5d739a=_0x2e137e,_0x805d15=this['activeEffects'][_0x29e711];_0x43ac7d-_0x805d15[_0x5d739a(0x272)]>_0x805d15[_0x5d739a(0x221)]&&(delete this[_0x5d739a(0x29d)][_0x29e711],this[_0x5d739a(0x260)](_0x5d739a(0x233),'gray'));});}[a0_0x8785bc(0x260)](_0x45b1aa,_0x1c0d22,_0x3065e0=0x0){const _0x45411a=a0_0x8785bc,_0x47e333=document['createElement'](_0x45411a(0x174));_0x47e333[_0x45411a(0x285)][_0x45411a(0x1c5)]=_0x45411a(0x2a8),_0x47e333[_0x45411a(0x285)][_0x45411a(0x22d)]=_0x45411a(0x1e9),_0x47e333[_0x45411a(0x285)][_0x45411a(0x1d7)]=_0x45411a(0x227),_0x47e333[_0x45411a(0x285)][_0x45411a(0x20c)]=_0x45411a(0x1f6),_0x47e333['style'][_0x45411a(0x21b)]=_0x1c0d22,_0x47e333[_0x45411a(0x285)][_0x45411a(0x1fc)]='bold',_0x47e333[_0x45411a(0x285)][_0x45411a(0x1aa)]='12px',_0x47e333['style'][_0x45411a(0x1b8)]=_0x45411a(0x2a0),_0x47e333['style'][_0x45411a(0x17f)]='2px\x20solid\x20'+_0x1c0d22,_0x47e333[_0x45411a(0x285)]['borderRadius']=_0x45411a(0x1e5),_0x47e333[_0x45411a(0x285)]['backgroundColor']='rgba(0,\x200,\x200,\x200.7)',_0x47e333[_0x45411a(0x285)]['boxShadow']=_0x45411a(0x1f0)+_0x1c0d22+_0x45411a(0x24d)+_0x1c0d22+'40',_0x47e333[_0x45411a(0x285)][_0x45411a(0x28d)]='0',_0x47e333[_0x45411a(0x285)][_0x45411a(0x275)]=_0x45411a(0x223),_0x47e333['id']=_0x45411a(0x24e),_0x47e333[_0x45411a(0x285)][_0x45411a(0x17e)]=_0x45411a(0x2a3);if(_0x3065e0>0x0){const _0x4beb26=document[_0x45411a(0x1b4)](_0x45411a(0x1a4));_0x4beb26[_0x45411a(0x285)][_0x45411a(0x19b)]=_0x45411a(0x277),_0x4beb26[_0x45411a(0x285)][_0x45411a(0x1aa)]='14px',_0x4beb26[_0x45411a(0x285)][_0x45411a(0x28d)]='0.8',_0x4beb26[_0x45411a(0x1fb)]='('+Math['ceil'](_0x3065e0/0x3e8)+'s)',_0x47e333[_0x45411a(0x27f)](document[_0x45411a(0x21f)](_0x45b1aa)),_0x47e333[_0x45411a(0x27f)](_0x4beb26);}else _0x47e333['textContent']=_0x45b1aa;const _0x413eb1=document['getElementById'](_0x45411a(0x24e));if(_0x413eb1)_0x413eb1['remove']();const _0x5c8b1b=this[_0x45411a(0x216)][_0x45411a(0x1a5)]||document[_0x45411a(0x281)];_0x5c8b1b[_0x45411a(0x27f)](_0x47e333),setTimeout(()=>{const _0x421888=_0x45411a;_0x47e333[_0x421888(0x285)][_0x421888(0x28d)]='1',_0x47e333[_0x421888(0x285)][_0x421888(0x20c)]=_0x421888(0x196);},0xa),window['addEventListener'](_0x45411a(0x184),()=>{new SnakeGame();});const _0xb6d71=_0x3065e0>0x0?Math[_0x45411a(0x1ca)](_0x3065e0,0x1388):0x7d0;setTimeout(()=>{const _0x4b85ee=_0x45411a;_0x47e333[_0x4b85ee(0x285)][_0x4b85ee(0x28d)]='0',_0x47e333[_0x4b85ee(0x285)][_0x4b85ee(0x20c)]=_0x4b85ee(0x203),setTimeout(()=>_0x47e333[_0x4b85ee(0x267)](),0x12c);},_0xb6d71);}[a0_0x8785bc(0x1ac)](_0x4bb472,_0x3fb843){}[a0_0x8785bc(0x1ea)](){}[a0_0x8785bc(0x225)](){const _0x1c6b5c=a0_0x8785bc,_0xd51bd2=document[_0x1c6b5c(0x256)](_0x1c6b5c(0x193));if(!_0xd51bd2)return;_0xd51bd2['innerHTML']='';const _0x45921e=document[_0x1c6b5c(0x256)](_0x1c6b5c(0x273));_0x45921e&&(_0x45921e[_0x1c6b5c(0x1fb)]=this['level']);const _0x32bb5a=0xa,_0x551253=Math[_0x1c6b5c(0x1ca)](Math[_0x1c6b5c(0x191)](this['experience']/this[_0x1c6b5c(0x234)]*_0x32bb5a),_0x32bb5a);for(let _0x1e4d68=0x0;_0x1e4d68<_0x32bb5a;_0x1e4d68++){const _0x427faa=document[_0x1c6b5c(0x1b4)](_0x1c6b5c(0x174));_0x427faa['className']='exp-segment\x20'+(_0x1e4d68<_0x551253?_0x1c6b5c(0x26a):''),_0xd51bd2[_0x1c6b5c(0x27f)](_0x427faa);}}[a0_0x8785bc(0x1d6)](){const _0x38f137=a0_0x8785bc,_0x286b79=document[_0x38f137(0x256)]('effectDurations');if(!_0x286b79)return;_0x286b79['innerHTML']='',Object[_0x38f137(0x1ad)](this[_0x38f137(0x29d)])[_0x38f137(0x240)](_0x90cda3=>{const _0x30face=_0x38f137,_0x512979=this[_0x30face(0x29d)][_0x90cda3];if(!_0x512979[_0x30face(0x221)]||!_0x512979[_0x30face(0x266)])return;const _0x2a35af=document[_0x30face(0x1b4)](_0x30face(0x174));_0x2a35af[_0x30face(0x186)]=_0x30face(0x239);const _0x33c726=document['createElement'](_0x30face(0x174));_0x33c726[_0x30face(0x186)]=_0x30face(0x228),_0x33c726[_0x30face(0x1fb)]=this['getEffectDisplayName'](_0x90cda3);const _0x362cf5=document[_0x30face(0x1b4)]('div');_0x362cf5[_0x30face(0x186)]=_0x30face(0x279);const _0x37d983=document[_0x30face(0x1b4)](_0x30face(0x174));_0x37d983['className']=_0x30face(0x19c);const _0x4db513=_0x512979[_0x30face(0x221)]-(Date['now']()-_0x512979[_0x30face(0x272)]);_0x37d983[_0x30face(0x285)][_0x30face(0x245)]=_0x4db513/_0x512979[_0x30face(0x266)]*0x64+'%';switch(_0x90cda3){case _0x30face(0x270):_0x37d983['style'][_0x30face(0x296)]=_0x30face(0x2a9),_0x37d983[_0x30face(0x285)]['boxShadow']=_0x30face(0x179);break;case _0x30face(0x220):_0x37d983[_0x30face(0x285)][_0x30face(0x296)]=_0x30face(0x264),_0x37d983['style'][_0x30face(0x211)]=_0x30face(0x1e7);break;case _0x30face(0x250):_0x37d983[_0x30face(0x285)][_0x30face(0x296)]=_0x30face(0x1a3),_0x37d983[_0x30face(0x285)][_0x30face(0x211)]=_0x30face(0x224);break;case'magnet':_0x37d983[_0x30face(0x285)][_0x30face(0x296)]=_0x30face(0x248),_0x37d983['style'][_0x30face(0x211)]='0\x200\x205px\x20#ff9900,\x200\x200\x2010px\x20#ff9900';break;default:_0x37d983[_0x30face(0x285)]['backgroundColor']=_0x30face(0x1bd),_0x37d983['style'][_0x30face(0x211)]=_0x30face(0x19e);}_0x362cf5[_0x30face(0x27f)](_0x37d983),_0x2a35af['appendChild'](_0x33c726),_0x2a35af['appendChild'](_0x362cf5),_0x286b79[_0x30face(0x27f)](_0x2a35af);});}[a0_0x8785bc(0x1b7)](_0xf8ddd9){const _0x4fec83=a0_0x8785bc,_0xfd809={'speedBoost':_0x4fec83(0x280),'slowDown':_0x4fec83(0x18a),'shield':_0x4fec83(0x2a7),'magnet':'Magnet'};return _0xfd809[_0xf8ddd9]||_0xf8ddd9;}[a0_0x8785bc(0x252)](){const _0x4b38aa=a0_0x8785bc;this[_0x4b38aa(0x282)]['clearRect'](0x0,0x0,this[_0x4b38aa(0x216)][_0x4b38aa(0x245)],this['canvas']['height']),this[_0x4b38aa(0x282)][_0x4b38aa(0x261)]=_0x4b38aa(0x204),this[_0x4b38aa(0x282)][_0x4b38aa(0x198)]=0.5;for(let _0xb6f059=0x0;_0xb6f059<=this['gridSize'];_0xb6f059++){this[_0x4b38aa(0x282)][_0x4b38aa(0x1d1)](),this[_0x4b38aa(0x282)][_0x4b38aa(0x1f4)](_0xb6f059*this['cellSize'],0x0),this[_0x4b38aa(0x282)]['lineTo'](_0xb6f059*this[_0x4b38aa(0x22c)],this[_0x4b38aa(0x216)][_0x4b38aa(0x1e0)]),this[_0x4b38aa(0x282)][_0x4b38aa(0x1f8)](),this[_0x4b38aa(0x282)][_0x4b38aa(0x1d1)](),this[_0x4b38aa(0x282)][_0x4b38aa(0x1f4)](0x0,_0xb6f059*this[_0x4b38aa(0x22c)]),this['ctx'][_0x4b38aa(0x236)](this[_0x4b38aa(0x216)][_0x4b38aa(0x245)],_0xb6f059*this['cellSize']),this[_0x4b38aa(0x282)][_0x4b38aa(0x1f8)]();}if(this[_0x4b38aa(0x29d)][_0x4b38aa(0x250)]){const _0x50c4e1=this['snake'][0x0];this['ctx']['beginPath'](),this[_0x4b38aa(0x282)][_0x4b38aa(0x1c1)](_0x50c4e1['x']*this['cellSize']+this[_0x4b38aa(0x22c)]/0x2,_0x50c4e1['y']*this[_0x4b38aa(0x22c)]+this['cellSize']/0x2,this[_0x4b38aa(0x22c)]*0.7,0x0,Math['PI']*0x2),this[_0x4b38aa(0x282)][_0x4b38aa(0x261)]='rgba(156,\x2039,\x20176,\x200.6)',this[_0x4b38aa(0x282)][_0x4b38aa(0x198)]=0x3,this[_0x4b38aa(0x282)]['setLineDash']([0x5,0x3]),this[_0x4b38aa(0x282)][_0x4b38aa(0x1f8)](),this[_0x4b38aa(0x282)][_0x4b38aa(0x23c)]([]);}const _0x15d756=0x64,_0x4abf2c=0x8,_0x362d12=this[_0x4b38aa(0x213)]/this['experienceToNextLevel'];this[_0x4b38aa(0x282)][_0x4b38aa(0x293)]=_0x4b38aa(0x29b),this[_0x4b38aa(0x282)][_0x4b38aa(0x1f1)](0x5,this[_0x4b38aa(0x216)]['height']-0xf,_0x15d756,_0x4abf2c),this['ctx'][_0x4b38aa(0x293)]=_0x4b38aa(0x1bd),this[_0x4b38aa(0x282)][_0x4b38aa(0x1f1)](0x5,this[_0x4b38aa(0x216)][_0x4b38aa(0x1e0)]-0xf,_0x15d756*_0x362d12,_0x4abf2c),this['snake'][_0x4b38aa(0x240)]((_0x16aca4,_0x53a639)=>{const _0x9a727e=_0x4b38aa,_0x3e336d=_0x53a639===0x0?_0x9a727e(0x1bd):_0x9a727e(0x242);this['ctx']['fillStyle']=_0x3e336d,this[_0x9a727e(0x282)]['shadowColor']=_0x3e336d,this[_0x9a727e(0x282)][_0x9a727e(0x19a)]=0xa,this['ctx']['fillRect'](_0x16aca4['x']*this[_0x9a727e(0x22c)],_0x16aca4['y']*this[_0x9a727e(0x22c)],this['cellSize'],this[_0x9a727e(0x22c)]),this[_0x9a727e(0x282)][_0x9a727e(0x293)]=_0x53a639===0x0?_0x9a727e(0x242):_0x9a727e(0x2a1),this['ctx'][_0x9a727e(0x19a)]=0x0,this[_0x9a727e(0x282)]['fillRect'](_0x16aca4['x']*this[_0x9a727e(0x22c)]+this[_0x9a727e(0x22c)]*0.15,_0x16aca4['y']*this['cellSize']+this[_0x9a727e(0x22c)]*0.15,this['cellSize']*0.7,this[_0x9a727e(0x22c)]*0.7);}),this[_0x4b38aa(0x1d6)](),this[_0x4b38aa(0x282)][_0x4b38aa(0x19a)]=0x0;if(this['food']){const _0x15ee90=this[_0x4b38aa(0x26b)]||_0x4b38aa(0x201);this[_0x4b38aa(0x282)][_0x4b38aa(0x293)]=_0x15ee90,this['ctx'][_0x4b38aa(0x287)]=_0x15ee90,this[_0x4b38aa(0x282)][_0x4b38aa(0x19a)]=0xf,this[_0x4b38aa(0x282)][_0x4b38aa(0x1f1)](this[_0x4b38aa(0x1c3)]['x']*this['cellSize'],this[_0x4b38aa(0x1c3)]['y']*this['cellSize'],this[_0x4b38aa(0x22c)],this['cellSize']),this[_0x4b38aa(0x282)]['fillStyle']=this[_0x4b38aa(0x1c7)](_0x15ee90,0x32),this[_0x4b38aa(0x282)][_0x4b38aa(0x19a)]=0x0,this[_0x4b38aa(0x282)][_0x4b38aa(0x1f1)](this['food']['x']*this['cellSize']+this[_0x4b38aa(0x22c)]*0.25,this['food']['y']*this['cellSize']+this[_0x4b38aa(0x22c)]*0.25,this[_0x4b38aa(0x22c)]*0.5,this[_0x4b38aa(0x22c)]*0.5);}this['ctx']['shadowBlur']=0x0;}['adjustColor'](_0x4d8a5d,_0x29b032){const _0x40ce24=a0_0x8785bc;let _0x2ab673=parseInt(_0x4d8a5d['slice'](0x1,0x3),0x10),_0x4cf899=parseInt(_0x4d8a5d[_0x40ce24(0x2a2)](0x3,0x5),0x10),_0x27b29a=parseInt(_0x4d8a5d['slice'](0x5,0x7),0x10);return _0x2ab673=Math[_0x40ce24(0x1ca)](0xff,Math[_0x40ce24(0x231)](0x0,_0x2ab673+_0x29b032)),_0x4cf899=Math['min'](0xff,Math[_0x40ce24(0x231)](0x0,_0x4cf899+_0x29b032)),_0x27b29a=Math[_0x40ce24(0x1ca)](0xff,Math['max'](0x0,_0x27b29a+_0x29b032)),'#'+_0x2ab673[_0x40ce24(0x23f)](0x10)[_0x40ce24(0x21e)](0x2,'0')+_0x4cf899[_0x40ce24(0x23f)](0x10)['padStart'](0x2,'0')+_0x27b29a[_0x40ce24(0x23f)](0x10)['padStart'](0x2,'0');}['addExperience'](_0x29cdce){const _0x525440=a0_0x8785bc;this[_0x525440(0x213)]+=_0x29cdce,this[_0x525440(0x260)]('+'+_0x29cdce+_0x525440(0x194),'yellow');while(this['experience']>=this['experienceToNextLevel']){this[_0x525440(0x26c)]();}}[a0_0x8785bc(0x26c)](){const _0x2e4680=a0_0x8785bc;this[_0x2e4680(0x229)]++,this[_0x2e4680(0x213)]-=this[_0x2e4680(0x234)],this['experienceToNextLevel']=Math[_0x2e4680(0x191)](this['experienceToNextLevel']*1.5),this[_0x2e4680(0x260)](_0x2e4680(0x284)+this['level'],_0x2e4680(0x258)),this[_0x2e4680(0x1f5)](),this[_0x2e4680(0x175)][_0x2e4680(0x1d0)]>0x0?(this[_0x2e4680(0x297)]++,this[_0x2e4680(0x24b)]=!![]):this[_0x2e4680(0x24b)]=![],this[_0x2e4680(0x29a)]();}['generateSkillOptions'](){const _0x24c730=a0_0x8785bc,_0x5918f8=[{'id':_0x24c730(0x177),'name':_0x24c730(0x1db),'description':_0x24c730(0x26f),'icon':'⚡'},{'id':_0x24c730(0x181),'name':_0x24c730(0x25c),'description':_0x24c730(0x190),'icon':'⏱️'},{'id':_0x24c730(0x27c),'name':_0x24c730(0x1ed),'description':_0x24c730(0x219),'icon':'💰'},{'id':_0x24c730(0x195),'name':'护盾概率','description':'吃到食物时有10%概率获得护盾','icon':_0x24c730(0x1cd)},{'id':_0x24c730(0x298),'name':_0x24c730(0x27e),'description':'可以穿越一次墙壁','icon':'🚪'},{'id':_0x24c730(0x25b),'name':_0x24c730(0x288),'description':'自动吸引附近食物','icon':'🧲'}],_0x5a637b=_0x5918f8['filter'](_0xe2b979=>!this['skills'][_0x24c730(0x259)](_0x1b483b=>_0x1b483b['id']===_0xe2b979['id']));this['availableSkills']=[];while(this['availableSkills'][_0x24c730(0x1d0)]<0x3&&_0x5a637b[_0x24c730(0x1d0)]>0x0){const _0x313f8c=Math[_0x24c730(0x191)](Math['random']()*_0x5a637b[_0x24c730(0x1d0)]);this['availableSkills'][_0x24c730(0x1e3)](_0x5a637b['splice'](_0x313f8c,0x1)[0x0]);}}['selectSkill'](_0x5d2e7){const _0x33c54b=a0_0x8785bc,_0x4e7aa7=this[_0x33c54b(0x175)][_0x33c54b(0x1bb)](_0x44b2d3=>_0x44b2d3['id']===_0x5d2e7);_0x4e7aa7&&(this[_0x33c54b(0x22a)][_0x33c54b(0x1e3)](_0x4e7aa7),this['applySkillEffect'](_0x4e7aa7),this['skillPoints']--,this[_0x33c54b(0x24b)]=![],this[_0x33c54b(0x188)]());}[a0_0x8785bc(0x254)](_0x4c3dc1){const _0x2d2322=a0_0x8785bc;switch(_0x4c3dc1['id']){case _0x2d2322(0x177):this[_0x2d2322(0x19f)][this[_0x2d2322(0x274)]]['speed']*=0.9;break;case'longer_effects':this['effectDurationMultiplier']=(this[_0x2d2322(0x210)]||0x1)*1.2;break;case _0x2d2322(0x27c):this[_0x2d2322(0x178)]=(this[_0x2d2322(0x178)]||0x1)*1.2;break;case _0x2d2322(0x195):this[_0x2d2322(0x1af)]=(this['shieldChance']||0x0)+0.1;break;case _0x2d2322(0x25b):this[_0x2d2322(0x1c4)]=0x64,this[_0x2d2322(0x29d)][_0x2d2322(0x25b)]={'maxDuration':0x3a98,'type':_0x2d2322(0x25b),'active':!![],'duration':0x2710*(this['effectDurationMultiplier']||0x1),'startTime':Date[_0x2d2322(0x20f)]()},this[_0x2d2322(0x260)](_0x2d2322(0x26e),'orange',this[_0x2d2322(0x29d)]['magnet'][_0x2d2322(0x221)]);break;}}[a0_0x8785bc(0x29a)](){const _0x1b559b=a0_0x8785bc;this[_0x1b559b(0x212)]=!![],clearInterval(this[_0x1b559b(0x18e)]);}[a0_0x8785bc(0x188)](){const _0x4f8843=a0_0x8785bc;this[_0x4f8843(0x212)]=![],this['startGame']();}['gameOver'](){const _0x19ef60=a0_0x8785bc;clearInterval(this[_0x19ef60(0x18e)]),this[_0x19ef60(0x29d)]={},this['updateEffectDurations'](),this[_0x19ef60(0x24b)]=![],this[_0x19ef60(0x251)]['classList'][_0x19ef60(0x267)](_0x19ef60(0x1cb));const _0xa60907=document[_0x19ef60(0x1b4)](_0x19ef60(0x174));_0xa60907[_0x19ef60(0x1b9)]=_0x19ef60(0x24a)+this[_0x19ef60(0x237)]+_0x19ef60(0x1ef)+this['level']+'</p><p>获得技能:\x20'+(this['skills'][_0x19ef60(0x1d3)](_0x31144d=>_0x31144d[_0x19ef60(0x23d)])[_0x19ef60(0x1cf)](',\x20')||'无')+_0x19ef60(0x209),_0xa60907['style'][_0x19ef60(0x21b)]=_0x19ef60(0x22f),_0xa60907[_0x19ef60(0x285)][_0x19ef60(0x1a2)]=_0x19ef60(0x1df),_0xa60907['style'][_0x19ef60(0x1f3)]=_0x19ef60(0x1e9),this['gameOverElement'][_0x19ef60(0x27f)](_0xa60907);const _0x5f0e86=_0xa60907;let _0x4f2ca8=0x0;const _0x47495a=setInterval(()=>{const _0x4db7de=_0x19ef60,_0x2e0ff8=(Math[_0x4db7de(0x1c2)]()-0.5)*0x8,_0x3e0ef1=(Math[_0x4db7de(0x1c2)]()-0.5)*0x8;_0x5f0e86[_0x4db7de(0x285)][_0x4db7de(0x20c)]=_0x4db7de(0x2a4)+_0x2e0ff8+_0x4db7de(0x19d)+_0x3e0ef1+_0x4db7de(0x2aa),_0x4f2ca8++,_0x4f2ca8>=0xf&&(clearInterval(_0x47495a),_0x5f0e86['style'][_0x4db7de(0x20c)]=_0x4db7de(0x230));},0x1e);}[a0_0x8785bc(0x1b2)](){const _0x227eb7=a0_0x8785bc,_0x4c6f06=Date[_0x227eb7(0x20f)]();if(_0x4c6f06-this[_0x227eb7(0x2a6)]<this['aiMoveInterval'])return this[_0x227eb7(0x1ec)];this[_0x227eb7(0x2a6)]=_0x4c6f06;const _0x1d08fa=this['snake'][0x0],_0x857304=this[_0x227eb7(0x271)]['slice'](0x1);if(this[_0x227eb7(0x23e)]){const _0x5a173d=this[_0x227eb7(0x1dd)](_0x1d08fa,_0x857304)[_0x227eb7(0x1d3)](_0x13fdd2=>({'point':_0x13fdd2,'score':this[_0x227eb7(0x1d5)](_0x13fdd2,_0x857304)}))[_0x227eb7(0x28c)]((_0x2742f3,_0xf53f60)=>_0xf53f60['score']-_0x2742f3[_0x227eb7(0x237)]);if(_0x5a173d[_0x227eb7(0x1d0)]>0x0)return this['getDirectionFromPoints'](_0x1d08fa,_0x5a173d[0x0][_0x227eb7(0x21d)]);}const _0x51c3db=this[_0x227eb7(0x28a)](_0x1d08fa,_0x857304);if(_0x51c3db<0xa)return this[_0x227eb7(0x222)](_0x1d08fa,_0x857304);const _0x44a951=this[_0x227eb7(0x286)](_0x1d08fa,this[_0x227eb7(0x1c3)],_0x857304);if(_0x44a951&&_0x44a951[_0x227eb7(0x1d0)]>0x0){const _0x3805d1=_0x44a951[0x0];if(this[_0x227eb7(0x1d8)](_0x3805d1,_0x857304)&&!this['willHitTail'](_0x3805d1))return this['getDirectionFromPoints'](_0x1d08fa,_0x3805d1);}return this[_0x227eb7(0x222)](_0x1d08fa,_0x857304);}[a0_0x8785bc(0x286)](_0x11303b,_0xf094d7,_0x33d92a){const _0x29205f=a0_0x8785bc,_0x2cca79=new Set(),_0x5bbb36=[[_0x11303b]];_0x2cca79['add'](this[_0x29205f(0x1c6)](_0x11303b));const _0x3c2ca8=Math['min'](0x1e,this[_0x29205f(0x1a7)]*this[_0x29205f(0x1a7)]),_0x3d6420=this['getRecentMoves'](0x3),_0x452d68=new Set(),_0x563120=Math[_0x29205f(0x187)](_0x11303b['x']-_0xf094d7['x'])+Math[_0x29205f(0x187)](_0x11303b['y']-_0xf094d7['y']);if(_0x563120<=0x3){const _0x548251=this['checkDirectPath'](_0x11303b,_0xf094d7,_0x33d92a);if(_0x548251)return _0x548251;}const _0x1b7cbc=Math[_0x29205f(0x1ca)](_0xf094d7['x'],_0xf094d7['y'],this[_0x29205f(0x1a7)]-0x1-_0xf094d7['x'],this[_0x29205f(0x1a7)]-0x1-_0xf094d7['y']),_0x193165=_0x1b7cbc<0x3?_0x3c2ca8*1.5:_0x3c2ca8;while(_0x5bbb36[_0x29205f(0x1d0)]>0x0&&_0x5bbb36[_0x29205f(0x1d0)]<_0x193165){const _0x47e4ec=_0x5bbb36['shift'](),_0x1be6dc=_0x47e4ec[_0x47e4ec[_0x29205f(0x1d0)]-0x1];if(this[_0x29205f(0x247)](_0x1be6dc,_0xf094d7)){if(this[_0x29205f(0x22b)](_0x47e4ec,_0x33d92a))return _0x47e4ec[_0x29205f(0x2a2)](0x1);continue;}const _0x4a21ee=this[_0x29205f(0x1dd)](_0x1be6dc,_0x33d92a)['map'](_0x4142f1=>({'point':_0x4142f1,'score':this[_0x29205f(0x292)](_0x4142f1,_0xf094d7,_0x33d92a,_0x3d6420,_0x452d68)}))['sort']((_0x398803,_0x3a2941)=>_0x3a2941['score']-_0x398803[_0x29205f(0x237)])['map'](_0x6676c3=>_0x6676c3[_0x29205f(0x21d)]);for(const _0x2968a5 of _0x4a21ee){const _0x5bcf5=this['pointToKey'](_0x2968a5);!_0x2cca79['has'](_0x5bcf5)&&(_0x2cca79[_0x29205f(0x290)](_0x5bcf5),_0x452d68[_0x29205f(0x290)](_0x5bcf5),_0x5bbb36['push']([..._0x47e4ec,_0x2968a5]));}}return this[_0x29205f(0x1c9)](_0x11303b,_0x33d92a,_0x452d68);}[a0_0x8785bc(0x185)](_0x16e61b,_0x111630,_0x582e5f){const _0x11c287=a0_0x8785bc;if(_0x16e61b['x']===_0x111630['x']||_0x16e61b['y']===_0x111630['y']){const _0x1da36e=this[_0x11c287(0x1dc)](_0x16e61b,_0x111630),_0x51e2eb=this[_0x11c287(0x295)](_0x16e61b,_0x1da36e);if(this['isValidMove'](_0x51e2eb,_0x582e5f)&&!this[_0x11c287(0x1ab)](_0x51e2eb))return[_0x51e2eb];}return null;}['findPathToOpenSpace'](_0x5cac8d,_0x183ce0,_0x94a0a2){const _0x42e346=a0_0x8785bc,_0x181e52=new Set(),_0x44adde=[[_0x5cac8d]];_0x181e52[_0x42e346(0x290)](this[_0x42e346(0x1c6)](_0x5cac8d));let _0x47db41=null,_0x14e6b8=0x0;const _0x52ad29=0xf;while(_0x44adde['length']>0x0&&_0x44adde[_0x42e346(0x1d0)]<_0x52ad29){const _0x19dd4d=_0x44adde[_0x42e346(0x1e1)](),_0x202cc7=_0x19dd4d[_0x19dd4d[_0x42e346(0x1d0)]-0x1],_0x3eeef6=this[_0x42e346(0x28a)](_0x202cc7,_0x183ce0);_0x3eeef6>_0x14e6b8&&(_0x14e6b8=_0x3eeef6,_0x47db41=_0x19dd4d);if(_0x3eeef6>0x14)return _0x19dd4d['slice'](0x1);const _0x29ec6b=this[_0x42e346(0x1dd)](_0x202cc7,_0x183ce0)[_0x42e346(0x206)](_0x34e156=>!_0x94a0a2[_0x42e346(0x253)](this[_0x42e346(0x1c6)](_0x34e156)))[_0x42e346(0x1d3)](_0x2fa50b=>({'point':_0x2fa50b,'score':this[_0x42e346(0x276)](_0x2fa50b,_0x183ce0)}))[_0x42e346(0x28c)]((_0x47f085,_0x5311e5)=>_0x5311e5[_0x42e346(0x237)]-_0x47f085['score'])['map'](_0xc6e939=>_0xc6e939['point']);for(const _0x4a6f14 of _0x29ec6b){const _0x3fdd43=this[_0x42e346(0x1c6)](_0x4a6f14);!_0x181e52[_0x42e346(0x253)](_0x3fdd43)&&(_0x181e52[_0x42e346(0x290)](_0x3fdd43),_0x44adde[_0x42e346(0x1e3)]([..._0x19dd4d,_0x4a6f14]));}}return _0x47db41?_0x47db41['slice'](0x1):null;}[a0_0x8785bc(0x292)](_0x453044,_0x1a3f51,_0x2e3cd1,_0x72e3d2=[],_0x5dabee=new Set()){const _0x2e9048=a0_0x8785bc;let _0x285dcc=0x0;if(_0x453044['x']<0x0||_0x453044['x']>=this[_0x2e9048(0x1a7)]||_0x453044['y']<0x0||_0x453044['y']>=this[_0x2e9048(0x1a7)])return-Infinity;if(this['willHitTail'](_0x453044))return-Infinity;const _0x22617d=Math[_0x2e9048(0x1ca)](_0x453044['x'],_0x453044['y'],this['gridSize']-0x1-_0x453044['x'],this['gridSize']-0x1-_0x453044['y']);_0x22617d<0x2?_0x285dcc-=(0x2-_0x22617d)*0x1e:_0x285dcc+=_0x22617d*0x3;const _0x41517c=this['countAccessibleSpace'](_0x453044,_0x2e3cd1);_0x285dcc+=_0x41517c*0xa;const _0x33e7b7=Math[_0x2e9048(0x187)](_0x453044['x']-_0x1a3f51['x'])+Math[_0x2e9048(0x187)](_0x453044['y']-_0x1a3f51['y']);_0x285dcc-=_0x33e7b7*0x3;const _0x251c79=this[_0x2e9048(0x1a7)]/0x2,_0x5bd0ab=this[_0x2e9048(0x1a7)]/0x2,_0x5d1863=Math[_0x2e9048(0x187)](_0x453044['x']-_0x251c79)+Math[_0x2e9048(0x187)](_0x453044['y']-_0x5bd0ab);_0x285dcc-=_0x5d1863;const _0x562d0c=this[_0x2e9048(0x1dd)](_0x453044,_0x2e3cd1);_0x285dcc+=_0x562d0c[_0x2e9048(0x1d0)]*0xa;this['wouldCreateLoop'](_0x453044,_0x72e3d2)&&(_0x285dcc-=0x1f4);_0x41517c<0xf&&_0x33e7b7>0x2&&(_0x285dcc-=0x12c);_0x5dabee[_0x2e9048(0x253)](this[_0x2e9048(0x1c6)](_0x453044))&&(_0x285dcc-=0xc8);!_0x5dabee['has'](this['pointToKey'](_0x453044))&&(_0x285dcc+=0x64);const _0x55004e=Math[_0x2e9048(0x187)](this[_0x2e9048(0x271)][0x0]['x']-_0x1a3f51['x'])+Math[_0x2e9048(0x187)](this[_0x2e9048(0x271)][0x0]['y']-_0x1a3f51['y']);_0x33e7b7<_0x55004e&&(_0x285dcc+=0xc8);const _0x5d10e9=Math[_0x2e9048(0x1ca)](_0x1a3f51['x'],_0x1a3f51['y'],this['gridSize']-0x1-_0x1a3f51['x'],this[_0x2e9048(0x1a7)]-0x1-_0x1a3f51['y']);return _0x5d10e9<0x3&&(_0x285dcc+=(0x3-_0x5d10e9)*0x32),_0x285dcc;}[a0_0x8785bc(0x276)](_0x3ce3a0,_0x3089f2){const _0x2b24ff=a0_0x8785bc;let _0x3bcbd8=0x0;if(_0x3ce3a0['x']<0x0||_0x3ce3a0['x']>=this['gridSize']||_0x3ce3a0['y']<0x0||_0x3ce3a0['y']>=this[_0x2b24ff(0x1a7)])return-Infinity;const _0x384d91=this['countAccessibleSpace'](_0x3ce3a0,_0x3089f2);_0x3bcbd8+=_0x384d91*0xa;const _0x344fa7=this[_0x2b24ff(0x1a7)]/0x2,_0x1b7328=this[_0x2b24ff(0x1a7)]/0x2,_0x47a508=Math[_0x2b24ff(0x187)](_0x3ce3a0['x']-_0x344fa7)+Math['abs'](_0x3ce3a0['y']-_0x1b7328);_0x3bcbd8-=_0x47a508*0x2;const _0x8400f9=this['getNeighbors'](_0x3ce3a0,_0x3089f2);_0x3bcbd8+=_0x8400f9[_0x2b24ff(0x1d0)]*0x8;const _0x100168=Math['min'](_0x3ce3a0['x'],_0x3ce3a0['y'],this[_0x2b24ff(0x1a7)]-0x1-_0x3ce3a0['x'],this[_0x2b24ff(0x1a7)]-0x1-_0x3ce3a0['y']);return _0x100168<0x2&&(_0x3bcbd8-=(0x2-_0x100168)*0x14),_0x3bcbd8;}[a0_0x8785bc(0x1ab)](_0x2495ac){const _0x516f2b=a0_0x8785bc;if(this[_0x516f2b(0x271)][_0x516f2b(0x2a2)](0x1)['some'](_0x4bf377=>this[_0x516f2b(0x247)](_0x4bf377,_0x2495ac)))return!![];const _0x34549c=[...this[_0x516f2b(0x271)]];_0x34549c['unshift'](_0x2495ac),_0x34549c[_0x516f2b(0x218)]();const _0x5b804d=_0x34549c[0x0],_0x588355=_0x34549c['slice'](0x1),_0x3456cf=this[_0x516f2b(0x1dd)](_0x5b804d,_0x588355);if(_0x3456cf[_0x516f2b(0x1d0)]===0x0)return!![];const _0x3d189a=this['countAccessibleSpace'](_0x5b804d,_0x588355);if(_0x3d189a<0x5)return!![];return![];}['getRecentMoves'](_0x4e7d8a){const _0x5229ac=a0_0x8785bc,_0x4620ce=[];for(let _0x477e43=0x1;_0x477e43<=Math[_0x5229ac(0x1ca)](_0x4e7d8a,this['snake'][_0x5229ac(0x1d0)]-0x1);_0x477e43++){_0x477e43<this[_0x5229ac(0x271)][_0x5229ac(0x1d0)]&&_0x4620ce[_0x5229ac(0x1e3)]({'from':this[_0x5229ac(0x271)][_0x477e43],'to':this[_0x5229ac(0x271)][_0x477e43-0x1]});}return _0x4620ce;}[a0_0x8785bc(0x1be)](_0x51b8cf,_0x40e254){const _0x160fd4=a0_0x8785bc;if(_0x40e254['length']<0x2)return![];const _0x5c8540=_0x40e254[0x0],_0x9b4f0a=_0x40e254[0x1];if(this[_0x160fd4(0x247)](_0x51b8cf,_0x9b4f0a['from'])&&this[_0x160fd4(0x247)](_0x5c8540[_0x160fd4(0x1da)],this[_0x160fd4(0x271)][0x0]))return!![];if(_0x40e254[_0x160fd4(0x1d0)]>=0x3){const _0x58ba62=_0x40e254[0x2];if(this['pointsEqual'](_0x51b8cf,_0x58ba62[_0x160fd4(0x1da)])&&this[_0x160fd4(0x247)](_0x5c8540[_0x160fd4(0x1da)],this[_0x160fd4(0x271)][0x0]))return!![];}return![];}['findSafeMove'](_0x38dfd2,_0x5e9c84){const _0x5bcb23=a0_0x8785bc,_0x256a7d=this[_0x5bcb23(0x1dd)](_0x38dfd2,_0x5e9c84);if(_0x256a7d['length']===0x0)return this['direction'];const _0x37107e=this['getRecentMoves'](0x5),_0x17ab5d=_0x256a7d['filter'](_0x4e5e8d=>!this['willHitTail'](_0x4e5e8d))[_0x5bcb23(0x1d3)](_0x402dc7=>({'move':_0x402dc7,'score':this['evaluateMoveSafety'](_0x402dc7,this[_0x5bcb23(0x1c3)],_0x5e9c84,_0x37107e)}));if(_0x17ab5d[_0x5bcb23(0x1d0)]===0x0){const _0x29f14c=_0x256a7d[_0x5bcb23(0x206)](_0x3e2d13=>this[_0x5bcb23(0x1d8)](_0x3e2d13,_0x5e9c84))[_0x5bcb23(0x1d3)](_0x44c98f=>({'move':_0x44c98f,'score':this[_0x5bcb23(0x249)](_0x44c98f,_0x5e9c84,_0x37107e)}))['sort']((_0x18c3aa,_0x416995)=>_0x416995['score']-_0x18c3aa[_0x5bcb23(0x237)]);if(_0x29f14c['length']>0x0)return this[_0x5bcb23(0x1dc)](_0x38dfd2,_0x29f14c[0x0][_0x5bcb23(0x1fa)]);return this[_0x5bcb23(0x1ec)];}_0x17ab5d[_0x5bcb23(0x28c)]((_0x519f9a,_0x54bad8)=>_0x54bad8[_0x5bcb23(0x237)]-_0x519f9a[_0x5bcb23(0x237)]);const _0x1d3cf3=_0x17ab5d[0x0]['move'];return this[_0x5bcb23(0x1dc)](_0x38dfd2,_0x1d3cf3);}[a0_0x8785bc(0x249)](_0x133caf,_0x396387,_0x75051d=[]){const _0x5427b4=a0_0x8785bc;let _0x1e23ca=0x0;const _0xbb3671=Math['min'](_0x133caf['x'],_0x133caf['y'],this['gridSize']-0x1-_0x133caf['x'],this[_0x5427b4(0x1a7)]-0x1-_0x133caf['y']);_0x1e23ca+=_0xbb3671*0xa;const _0x283def=this[_0x5427b4(0x28a)](_0x133caf,_0x396387);_0x1e23ca+=_0x283def*0x5;const _0x469e18=this[_0x5427b4(0x1dd)](_0x133caf,_0x396387);return _0x1e23ca+=_0x469e18[_0x5427b4(0x1d0)]*0x8,this['wouldCreateLoop'](_0x133caf,_0x75051d)&&(_0x1e23ca-=0x12c),_0x1e23ca;}['isValidMove'](_0x48e2e6,_0x5baadd){const _0x55caed=a0_0x8785bc;if(_0x48e2e6['x']<0x0||_0x48e2e6['x']>=this[_0x55caed(0x1a7)]||_0x48e2e6['y']<0x0||_0x48e2e6['y']>=this[_0x55caed(0x1a7)])return![];if(_0x5baadd['some'](_0x3be090=>this[_0x55caed(0x247)](_0x3be090,_0x48e2e6)))return![];const _0x3f4755=Math['min'](_0x48e2e6['x'],_0x48e2e6['y'],this['gridSize']-0x1-_0x48e2e6['x'],this[_0x55caed(0x1a7)]-0x1-_0x48e2e6['y']);if(_0x3f4755<0x2&&this[_0x55caed(0x271)][_0x55caed(0x1d0)]>0x5)return![];return!![];}[a0_0x8785bc(0x28a)](_0x590bc9,_0x3293d5){const _0x46ce2a=a0_0x8785bc,_0x4fd7e6=new Set(),_0x4e0b91=[_0x590bc9];_0x4fd7e6[_0x46ce2a(0x290)](this[_0x46ce2a(0x1c6)](_0x590bc9));let _0x21d2eb=0x0;while(_0x4e0b91[_0x46ce2a(0x1d0)]>0x0){const _0x41d0f2=_0x4e0b91['shift']();_0x21d2eb++;const _0x504a78=this[_0x46ce2a(0x1dd)](_0x41d0f2,_0x3293d5);for(const _0x13bf3a of _0x504a78){const _0x1cffd2=this[_0x46ce2a(0x1c6)](_0x13bf3a);!_0x4fd7e6[_0x46ce2a(0x253)](_0x1cffd2)&&(_0x4fd7e6['add'](_0x1cffd2),_0x4e0b91['push'](_0x13bf3a));}}return _0x21d2eb;}[a0_0x8785bc(0x295)](_0x23ba39,_0x2499ab){const _0x557f0f=a0_0x8785bc,_0x2248b0={..._0x23ba39};switch(_0x2499ab){case'up':_0x2248b0['y']--;break;case'down':_0x2248b0['y']++;break;case _0x557f0f(0x1d7):_0x2248b0['x']--;break;case _0x557f0f(0x25a):_0x2248b0['x']++;break;}return _0x2248b0;}[a0_0x8785bc(0x1c6)](_0x5255ea){return _0x5255ea['x']+','+_0x5255ea['y'];}['pointsEqual'](_0x2f0cef,_0x4d38a7){return _0x2f0cef['x']===_0x4d38a7['x']&&_0x2f0cef['y']===_0x4d38a7['y'];}[a0_0x8785bc(0x1dd)](_0x65d3b4,_0x1bbe34){const _0x13e538=a0_0x8785bc,_0xcbec0a=[],_0x2a9f5d=[{'x':0x0,'y':-0x1},{'x':0x1,'y':0x0},{'x':0x0,'y':0x1},{'x':-0x1,'y':0x0}];for(const _0x304e75 of _0x2a9f5d){const _0x40a49f={'x':_0x65d3b4['x']+_0x304e75['x'],'y':_0x65d3b4['y']+_0x304e75['y']};this['isValidMove'](_0x40a49f,_0x1bbe34)&&_0xcbec0a[_0x13e538(0x1e3)](_0x40a49f);}return _0xcbec0a;}[a0_0x8785bc(0x1dc)](_0x48f640,_0x2e3c89){const _0x3a96bc=a0_0x8785bc,_0xaff023=_0x2e3c89['x']-_0x48f640['x'],_0x1674c7=_0x2e3c89['y']-_0x48f640['y'];if(_0xaff023===0x1)return _0x3a96bc(0x25a);if(_0xaff023===-0x1)return _0x3a96bc(0x1d7);if(_0x1674c7===0x1)return'down';if(_0x1674c7===-0x1)return'up';return this[_0x3a96bc(0x1ec)];}[a0_0x8785bc(0x22b)](_0x554a53,_0x3d2dfc){const _0x4a59a5=a0_0x8785bc,_0x263a25=[...this[_0x4a59a5(0x271)]];for(let _0x2f6e87=0x1;_0x2f6e87<_0x554a53[_0x4a59a5(0x1d0)];_0x2f6e87++){const _0x1d3840=_0x554a53[_0x2f6e87];if(!this[_0x4a59a5(0x1d8)](_0x1d3840,_0x263a25[_0x4a59a5(0x2a2)](0x1)))return![];_0x263a25[_0x4a59a5(0x199)](_0x1d3840),_0x263a25['pop']();const _0x57a64b=this[_0x4a59a5(0x28a)](_0x1d3840,_0x263a25[_0x4a59a5(0x2a2)](0x1));if(_0x57a64b<0x5)return![];}return!![];}['evaluatePostFoodSafety'](_0x233c83,_0x2be297){const _0x411604=a0_0x8785bc,_0x502217=Math[_0x411604(0x1ca)](_0x233c83['x'],_0x233c83['y'],this['gridSize']-0x1-_0x233c83['x'],this[_0x411604(0x1a7)]-0x1-_0x233c83['y']);let _0x221fd0=_0x502217*0x14;const _0x1afd99=this['countAccessibleSpace'](_0x233c83,_0x2be297);_0x221fd0+=_0x1afd99*0xa;const _0x4bed4d=this[_0x411604(0x1dd)](_0x233c83,_0x2be297);return _0x221fd0+=_0x4bed4d[_0x411604(0x1d0)]*0xa,_0x2be297[_0x411604(0x259)](_0x2b199a=>this['pointsEqual'](_0x2b199a,_0x233c83))&&(_0x221fd0=-Infinity),_0x221fd0;}}function a0_0x3dfd(){const _0x486fee=['position','pointToKey','adjustColor','selectedSkillIndex','findPathToOpenSpace','min','hidden','purple','🛡️','resize','join','length','beginPath','yellow','map','init','evaluatePostFoodSafety','updateEffectDurations','left','isValidMove','addExperience','from','速度提升','getDirectionFromPoints','getNeighbors','963120GuHdoe','center','height','shift','<h2>游戏结束</h2><p>按空格键重新开始</p>','push','control','4px','OFF','0\x200\x205px\x20#00ffff,\x200\x200\x2010px\x20#00ffff','classList','20px','updateParticles','#00BCD4','direction','得分加成','active','</p><p>最终等级:\x20','0\x200\x2010px\x20','fillRect','#0073e6','marginTop','moveTo','generateSkillOptions','translateX(-50%)','toggleAIMode','stroke','description','move','textContent','fontWeight','hard','selectSkill','2450580LdRTnM','generateFood','#FF5252','66rqCzeM','translateX(-50%)\x20translateY(-20px)','#333','244195mUSStl','filter','aiButton','38540cCGWJq','</p>','applyFoodEffect','1838802zZSLDF','transform','bind','#4CAF50','now','effectDurationMultiplier','boxShadow','isPaused','experience','rgba(255,\x20255,\x20255,\x200.1)','isAIMode','canvas','12px\x20Arial','pop','食物得分增加20%','neon-pulse-blue','color','#FFC107','point','padStart','createTextNode','slowDown','duration','findSafeMove','opacity\x200.3s,\x20transform\x200.5s','0\x200\x205px\x20#ffff00,\x200\x200\x2010px\x20#ffff00','updateExperienceBar','multiplier','50%','effect-name','level','skills','isPathSafe','cellSize','top','setupAI','white','translate(0,\x200)','max','AI\x20move\x20calculation\x20error:','效果结束','experienceToNextLevel','update','lineTo','score','blue','effect-duration-item','速度降低!','rgba(0,\x200,\x200,\x200.9)','setLineDash','name','justAteFood','toString','forEach','font','#00cc7a','setupEventListeners','aiMoveInterval','width','drawLevelUpMenu','pointsEqual','#ff9900','evaluateEmergencyMove','<p>最终得分:\x20','isLevelUpMenuOpen','neon-pulse-effect',',\x200\x200\x2020px\x20','effect-message','获得护盾!','shield','gameOverElement','draw','has','applySkillEffect','gameOver','getElementById','acceleration','gold','some','right','magnet','效果延长','nextDirection','setupCanvas','neon-pulse-green','showEffectMessage','strokeStyle','type','values','#00ffff','515PXFNTU','maxDuration','remove','icon','7632816oDniuf','filled','foodColor','levelUp','updateEffects','磁力吸引!','移动速度永久增加10%','speedBoost','snake','startTime','levelValue','currentDifficulty','transition','evaluateOpenSpaceMove','8px','speed','effect-bar-container','arrowup','aiModeBtn','more_points','双倍得分!','二段跳','appendChild','Speed\x20Boost','body','ctx','10px\x20Arial','Level\x20Up!\x20Lv','style','findPathToFood','shadowColor','磁力吸引','游戏画布元素未找到!','countAccessibleSpace','\x20(x','sort','opacity','getContext','rgba(0,\x20255,\x20157,\x200.3)','add','red','evaluateMoveSafety','fillStyle','.touch-button','getNextPoint','backgroundColor','skillPoints','double_jump','click','pauseGame','rgba(255,\x20255,\x20255,\x200.3)','key','activeEffects','neon-pulse-red','#2196F3','8px\x2016px','#00995c','slice','100','translate(','button','lastAIMoveTime','Shield','absolute','#ff00ff','px)','AI\x20Mode:\x20OFF','div','availableSkills','error','speed_boost','scoreMultiplier','0\x200\x205px\x20#ff00ff,\x200\x200\x2010px\x20#ff00ff','无法获取画布上下文!','5760DVuoTQ','clientHeight','contains','zIndex','border','护盾已消耗','longer_effects','reverseControls','scoreElement','load','checkDirectPath','className','abs','resumeGame','keydown','Slow\x20Down','addEventListener','#9C27B0','gameCanvas','gameLoop','fillText','所有效果持续时间增加20%','floor','startGame','expSegments','\x20XP','shield_chance','translateX(-50%)\x20translateY(-10px)','setDifficulty','lineWidth','unshift','shadowBlur','marginLeft','effect-bar','px,\x20','0\x200\x205px\x20#00ff9d,\x200\x200\x2010px\x20#00ff9d','difficulties','toLowerCase','--neon-color','textAlign','#ffff00','span','parentElement','down','gridSize','setProperty','flat','fontSize','willHitTail','createParticles','keys','1492CJqNcz','shieldChance','hypot','mediumBtn','getAIMove','速度提升!','createElement','easy','easyBtn','getEffectDisplayName','padding','innerHTML','handleKeyPress','find','doubleScore','#00ff9d','wouldCreateLoop','toggle','使用方向键选择，按空格键确认','arc','random','food','magnetRange'];a0_0x3dfd=function(){return _0x486fee;};return a0_0x3dfd();}window[a0_0x8785bc(0x18b)](a0_0x8785bc(0x184),()=>{new SnakeGame();}),ads,window[a0_0x8785bc(0x18b)]('load',()=>{new SnakeGame();});